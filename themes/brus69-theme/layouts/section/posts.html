{{ define "main" }}
<div class="min-h-20 bg-gray-200 rounded-lg flex items-center justify-left p-4 ">
  123
</div>
<div class="container mx-auto px-4 py-8">

    <h1 class="text-3xl font-bold text-gray-900 mb-8">{{ .Title }}</h1>
1
    <div class="space-y-6 mb-8">
<div class="flex justify-center items-center gap-6 ml-8">
        
        {{ range .Paginator.Pages }}
        <article class="bg-white rounded-lg border border-gray-200  p-6 hover:shadow-lg transition-shadow">
            <h2 class="text-xl font-semibold text-gray-800 mb-2">
                <a href="{{ .RelPermalink }}" class="hover:text-blue-600 transition-colors">
                    {{ .Title }}
                </a>
            </h2>
            <p class="text-gray-600">{{ .Summary }}</p>
        </article>
        {{ end }}
       
</div>
    </div>
2
    {{ if gt .Paginator.TotalPages 1 }}
    <nav class="flex items-center justify-between sm:justify-center gap-4 py-6 border-t">
        {{ if .Paginator.HasPrev }}
        <a href="{{ .Paginator.Prev.URL }}" 
           class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2">
            <span>←</span>
            <span class="hidden sm:inline">Назад</span>
        </a>
        {{ else }}
        <span class="px-4 py-2 bg-gray-300 text-gray-500 rounded-lg cursor-not-allowed flex items-center gap-2">
            <span>←</span>
            <span class="hidden sm:inline">Назад</span>
        </span>
        {{ end }}

        <div class="flex items-center gap-1">
            {{ $current := .Paginator.PageNumber }}
            {{ $total := .Paginator.TotalPages }}
            
            {{ range .Paginator.Pagers }}
                {{ $pageNum := .PageNumber }}
                {{ $showPage := false }}
                
                <!-- Логика отображения страниц -->
                {{ if or (eq $pageNum 1) (eq $pageNum $total) }}
                    <!-- Первая и последняя страницы всегда показываются -->
                    {{ $showPage = true }}
                {{ else if and (ge $pageNum (sub $current 1)) (le $pageNum (add $current 1)) }}
                    <!-- Страницы вокруг текущей -->
                    {{ $showPage = true }}
                {{ end }}
                
                <!-- Показываем страницу только если она не дублируется -->
                {{ if $showPage }}
                    {{ if eq $pageNum $current }}
                    <span class="px-3 py-1 bg-blue-600 text-white rounded-md font-semibold">
                        {{ $pageNum }}
                    </span>
                    {{ else }}
                    <a href="{{ .URL }}" 
                       class="px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors">
                        {{ $pageNum }}
                    </a>
                    {{ end }}
                {{ else if and (eq $pageNum 2) (gt $current 3) }}
                    <!-- Многоточие после первой страницы -->
                    <span class="px-2 text-gray-500">...</span>
                {{ else if and (eq $pageNum (sub $total 1)) (lt $current (sub $total 2)) }}
                    <!-- Многоточие перед последней страницей -->
                    <span class="px-2 text-gray-500">...</span>
                {{ end }}
            {{ end }}
        </div>

        {{ if .Paginator.HasNext }}
        <a href="{{ .Paginator.Next.URL }}" 
           class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2">
            <span class="hidden sm:inline">Вперед</span>
            <span>→</span>
        </a>
        {{ else }}
        <span class="px-4 py-2 bg-gray-300 text-gray-500 rounded-lg cursor-not-allowed flex items-center gap-2">
            <span class="hidden sm:inline">Вперед</span>
            <span>→</span>
        </span>
        {{ end }}
    </nav>
    {{ end }}
</div>
{{ end }}