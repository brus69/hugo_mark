
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        },
                        success: '#10b981',
                        danger: '#ef4444',
                        warning: '#f59e0b',
                    }
                }
            }
        }
    </script>

    <div class="max-w-6xl mx-auto">
        <!-- Заголовок -->
        <header class="bg-gradient-to-r from-gray-900 to-primary-900 text-white rounded-t-2xl p-6 md:p-8 shadow-lg">
           
            <p class="text-center text-gray-300 text-lg md:text-xl">Рассчитайте возврат на инвестиции (Return on Investment)</p>
        </header>
        
        <div class="flex flex-col lg:flex-row bg-white shadow-xl rounded-b-2xl overflow-hidden">
            <!-- Левая колонка: Ввод данных -->
            <div class="lg:w-1/2 p-6 md:p-8 border-r border-gray-200">
                <h2 class="text-2xl font-bold text-gray-800 mb-2 pb-3 border-b border-primary-600">Параметры инвестиции</h2>
                
                <!-- Инвестиция -->
                <div class="mb-8">
                    <label for="investment" class="block text-gray-700 font-semibold mb-3 text-lg">
                        <i class="fas fa-money-bill-wave text-primary-600 mr-2"></i>Сумма инвестиции (₽)
                    </label>
                    <div class="flex items-center mb-2">
                        <span class="bg-gray-100 text-gray-700 px-4 py-3 rounded-l-lg border border-r-0 border-gray-300 font-medium">₽</span>
                        <input 
                            type="number" 
                            id="investment" 
                            min="0" 
                            step="1000" 
                            value="100000"
                            class="w-full p-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg"
                        >
                    </div>
                    <input 
                        type="range" 
                        id="investment-slider" 
                        min="0" 
                        max="1000000" 
                        step="10000" 
                        value="100000"
                        class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer slider"
                    >
                    <div class="flex justify-between mt-1 text-gray-600">
                        <span>0 ₽</span>
                        <span id="investment-value" class="font-bold text-primary-700">100 000 ₽</span>
                        <span>1 000 000 ₽</span>
                    </div>
                </div>
                
                <!-- Доход -->
                <div class="mb-8">
                    <label for="return" class="block text-gray-700 font-semibold mb-3 text-lg">
                        <i class="fas fa-chart-line text-primary-600 mr-2"></i>Доход от инвестиции (₽)
                    </label>
                    <div class="flex items-center mb-2">
                        <span class="bg-gray-100 text-gray-700 px-4 py-3 rounded-l-lg border border-r-0 border-gray-300 font-medium">₽</span>
                        <input 
                            type="number" 
                            id="return" 
                            min="0" 
                            step="1000" 
                            value="150000"
                            class="w-full p-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg"
                        >
                    </div>
                    <input 
                        type="range" 
                        id="return-slider" 
                        min="0" 
                        max="2000000" 
                        step="10000" 
                        value="150000"
                        class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer slider"
                    >
                    <div class="flex justify-between mt-1 text-gray-600">
                        <span>0 ₽</span>
                        <span id="return-value" class="font-bold text-primary-700">150 000 ₽</span>
                        <span>2 000 000 ₽</span>
                    </div>
                </div>
                
                <!-- Затраты -->
                <div class="mb-8">
                    <label for="costs" class="block text-gray-700 font-semibold mb-3 text-lg">
                        <i class="fas fa-shopping-cart text-primary-600 mr-2"></i>Затраты и расходы (₽)
                    </label>
                    <div class="flex items-center mb-2">
                        <span class="bg-gray-100 text-gray-700 px-4 py-3 rounded-l-lg border border-r-0 border-gray-300 font-medium">₽</span>
                        <input 
                            type="number" 
                            id="costs" 
                            min="0" 
                            step="1000" 
                            value="20000"
                            class="w-full p-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg"
                        >
                    </div>
                    <input 
                        type="range" 
                        id="costs-slider" 
                        min="0" 
                        max="500000" 
                        step="5000" 
                        value="20000"
                        class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer slider"
                    >
                    <div class="flex justify-between mt-1 text-gray-600">
                        <span>0 ₽</span>
                        <span id="costs-value" class="font-bold text-primary-700">20 000 ₽</span>
                        <span>500 000 ₽</span>
                    </div>
                </div>
                
                <!-- Период -->
                <div class="mb-10">
                    <label for="period" class="block text-gray-700 font-semibold mb-3 text-lg">
                        <i class="fas fa-calendar-alt text-primary-600 mr-2"></i>Период инвестиции (месяцев)
                    </label>
                    <div class="flex items-center mb-2">
                        <span class="bg-gray-100 text-gray-700 px-4 py-3 rounded-l-lg border border-r-0 border-gray-300 font-medium">
                            <i class="fas fa-clock"></i>
                        </span>
                        <input 
                            type="number" 
                            id="period" 
                            min="1" 
                            max="120" 
                            value="12"
                            class="w-full p-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg"
                        >
                    </div>
                    <input 
                        type="range" 
                        id="period-slider" 
                        min="1" 
                        max="60" 
                        step="1" 
                        value="12"
                        class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer slider"
                    >
                    <div class="flex justify-between mt-1 text-gray-600">
                        <span>1 месяц</span>
                        <span id="period-value" class="font-bold text-primary-700">12 месяцев</span>
                        <span>60 месяцев</span>
                    </div>
                </div>
                
                <!-- Кнопки -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <button id="calculate" class="flex-1 bg-primary-600 hover:bg-primary-700 text-white font-bold py-4 px-6 rounded-lg transition duration-300 flex items-center justify-center group">
                        <i class="fas fa-calculator mr-3 text-xl"></i>
                        <span class="text-lg">Рассчитать ROI</span>
                        <i class="fas fa-arrow-right ml-3 group-hover:translate-x-1 transition-transform"></i>
                    </button>
                    <button id="reset" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-4 px-6 rounded-lg transition duration-300 flex items-center justify-center">
                        <i class="fas fa-redo mr-3"></i>
                        <span class="text-lg">Сбросить</span>
                    </button>
                </div>
            </div>
            
            <!-- Правая колонка: Результаты -->
            <div class="lg:w-1/2 p-6 md:p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-2 pb-3 border-b border-primary-600">Результаты расчета</h2>
                
                <!-- Основной результат ROI -->
                <div class="bg-gradient-to-r from-gray-50 to-primary-50 rounded-xl p-6 mb-8 border border-gray-200 shadow">
                    <h3 class="text-gray-600 text-lg mb-2 text-center">Коэффициент ROI</h3>
                    <div id="roi-percentage" class="text-5xl md:text-6xl font-bold text-center my-4 text-primary-800">30%</div>
                    <p id="roi-description" class="text-center text-gray-700 text-lg">Положительный возврат на инвестиции</p>
                </div>
                
                <!-- Детали результатов -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5 mb-8">
                    <div class="bg-white border-l-4 border-primary-500 rounded-lg p-5 shadow">
                        <div class="text-gray-500 text-sm mb-1">Чистая прибыль</div>
                        <div id="net-profit" class="text-3xl font-bold text-success">30 000 ₽</div>
                    </div>
                    <div class="bg-white border-l-4 border-primary-500 rounded-lg p-5 shadow">
                        <div class="text-gray-500 text-sm mb-1">Общие затраты</div>
                        <div id="total-cost" class="text-3xl font-bold text-gray-800">120 000 ₽</div>
                    </div>
                    <div class="bg-white border-l-4 border-primary-500 rounded-lg p-5 shadow">
                        <div class="text-gray-500 text-sm mb-1">Соотношение доход/затраты</div>
                        <div id="roi-ratio" class="text-3xl font-bold text-gray-800">1.25</div>
                    </div>
                    <div class="bg-white border-l-4 border-primary-500 rounded-lg p-5 shadow">
                        <div class="text-gray-500 text-sm mb-1">ROI в месяц</div>
                        <div id="monthly-roi" class="text-3xl font-bold text-gray-800">2.5%</div>
                    </div>
                </div>
                
                <!-- Визуализация -->
                <div class="bg-gray-50 rounded-xl p-6 mb-8 border border-gray-200">
                    <h3 class="text-lg font-bold text-gray-800 mb-6 text-center">Визуализация инвестиции</h3>
                    <div class="flex justify-center items-end h-48 mt-4 space-x-12">
                        <div class="flex flex-col items-center">
                            <div id="investment-bar" class="w-16 bg-primary-600 rounded-t-lg" style="height: 80px;"></div>
                            <div class="mt-3 font-medium text-gray-700">Инвестиция</div>
                            <div id="investment-bar-value" class="mt-1 text-sm text-gray-600">100 000 ₽</div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div id="return-bar" class="w-16 bg-success rounded-t-lg" style="height: 120px;"></div>
                            <div class="mt-3 font-medium text-gray-700">Доход</div>
                            <div id="return-bar-value" class="mt-1 text-sm text-gray-600">150 000 ₽</div>
                        </div>
                    </div>
                </div>
                
                <!-- Формула и пояснения -->
                <div class="bg-blue-50 border-l-4 border-primary-500 rounded-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Что такое ROI?</h3>
                    <p class="text-gray-700 mb-4">ROI (Return on Investment) - это показатель эффективности инвестиций, который измеряет возврат на вложенные средства.</p>
                    
                    <div class="bg-gray-800 text-white p-4 rounded-lg mb-4 font-mono text-center">
                        ROI = ((Доход - Затраты) / Затраты) × 100%
                    </div>
                    
                    <p class="text-gray-700 mb-2"><strong>Где:</strong></p>
                    <p class="text-gray-700 mb-1"><strong>Затраты = Инвестиция + Дополнительные расходы</strong></p>
                    <p id="calculation-details" class="text-gray-700">
                        ROI = ((150 000 ₽ - 120 000 ₽) / 120 000 ₽) × 100% = 25%
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Легенда -->
        <div class="mt-8 bg-white rounded-xl p-6 shadow">
            <h3 class="text-lg font-bold text-gray-800 mb-4">Интерпретация результатов ROI</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="flex items-center p-3 bg-green-50 rounded-lg">
                    <div class="w-4 h-4 rounded-full bg-success mr-3"></div>
                    <div>
                        <span class="font-bold">ROI > 0%</span> - Инвестиция прибыльна
                    </div>
                </div>
                <div class="flex items-center p-3 bg-yellow-50 rounded-lg">
                    <div class="w-4 h-4 rounded-full bg-warning mr-3"></div>
                    <div>
                        <span class="font-bold">ROI = 0%</span> - Инвестиция окупилась
                    </div>
                </div>
                <div class="flex items-center p-3 bg-red-50 rounded-lg">
                    <div class="w-4 h-4 rounded-full bg-danger mr-3"></div>
                    <div>
                        <span class="font-bold">ROI < 0%</span> - Инвестиция убыточна
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Получаем элементы DOM
        const investmentInput = document.getElementById('investment');
        const investmentSlider = document.getElementById('investment-slider');
        const investmentValue = document.getElementById('investment-value');
        
        const returnInput = document.getElementById('return');
        const returnSlider = document.getElementById('return-slider');
        const returnValue = document.getElementById('return-value');
        
        const costsInput = document.getElementById('costs');
        const costsSlider = document.getElementById('costs-slider');
        const costsValue = document.getElementById('costs-value');
        
        const periodInput = document.getElementById('period');
        const periodSlider = document.getElementById('period-slider');
        const periodValue = document.getElementById('period-value');
        
        const calculateBtn = document.getElementById('calculate');
        const resetBtn = document.getElementById('reset');
        
        const roiPercentage = document.getElementById('roi-percentage');
        const roiDescription = document.getElementById('roi-description');
        const netProfit = document.getElementById('net-profit');
        const totalCost = document.getElementById('total-cost');
        const roiRatio = document.getElementById('roi-ratio');
        const monthlyRoi = document.getElementById('monthly-roi');
        const calculationDetails = document.getElementById('calculation-details');
        const investmentBar = document.getElementById('investment-bar');
        const returnBar = document.getElementById('return-bar');
        const investmentBarValue = document.getElementById('investment-bar-value');
        const returnBarValue = document.getElementById('return-bar-value');
        
        // Стилизация слайдеров
        const sliders = document.querySelectorAll('.slider');
        sliders.forEach(slider => {
            // Стили для WebKit (Chrome, Safari)
            slider.style.WebkitAppearance = 'none';
            
            // Стили для ползунка
            slider.addEventListener('input', function() {
                const value = (this.value - this.min) / (this.max - this.min) * 100;
                this.style.background = `linear-gradient(to right, #3b82f6 0%, #3b82f6 ${value}%, #d1d5db ${value}%, #d1d5db 100%)`;
            });
            
            // Инициализация градиента
            const value = (slider.value - slider.min) / (slider.max - slider.min) * 100;
            slider.style.background = `linear-gradient(to right, #3b82f6 0%, #3b82f6 ${value}%, #d1d5db ${value}%, #d1d5db 100%)`;
        });
        
        // Форматирование чисел с разделителями тысяч
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
        }
        
        // Обновление слайдеров на основе полей ввода
        function updateSliders() {
            investmentSlider.value = investmentInput.value;
            returnSlider.value = returnInput.value;
            costsSlider.value = costsInput.value;
            periodSlider.value = periodInput.value;
            
            updateSliderValues();
        }
        
        // Обновление значений слайдеров
        function updateSliderValues() {
            investmentValue.textContent = `${formatNumber(investmentInput.value)} ₽`;
            returnValue.textContent = `${formatNumber(returnInput.value)} ₽`;
            costsValue.textContent = `${formatNumber(costsInput.value)} ₽`;
            periodValue.textContent = `${periodInput.value} месяцев`;
        }
        
        // Рассчет ROI
        function calculateROI() {
            const investment = parseFloat(investmentInput.value);
            const returnAmount = parseFloat(returnInput.value);
            const costs = parseFloat(costsInput.value);
            const period = parseFloat(periodInput.value);
            
            // Общие затраты = инвестиция + дополнительные расходы
            const totalCosts = investment + costs;
            
            // Чистая прибыль
            const netProfitValue = returnAmount - totalCosts;
            
            // ROI в процентах
            const roiValue = totalCosts > 0 ? (netProfitValue / totalCosts) * 100 : 0;
            
            // Соотношение доход/затраты
            const roiRatioValue = totalCosts > 0 ? returnAmount / totalCosts : 0;
            
            // ROI в месяц (если период больше 0)
            const monthlyRoiValue = period > 0 ? roiValue / period : 0;
            
            // Обновление UI
            roiPercentage.textContent = `${roiValue.toFixed(1)}%`;
            
            // Цвет ROI в зависимости от значения
            if (roiValue > 0) {
                roiPercentage.className = "text-5xl md:text-6xl font-bold text-center my-4 text-success";
            } else if (roiValue < 0) {
                roiPercentage.className = "text-5xl md:text-6xl font-bold text-center my-4 text-danger";
            } else {
                roiPercentage.className = "text-5xl md:text-6xl font-bold text-center my-4 text-warning";
            }
            
            // Цвет чистой прибыли
            const netProfitColor = netProfitValue >= 0 ? 'text-success' : 'text-danger';
            netProfit.className = `text-3xl font-bold ${netProfitColor}`;
            netProfit.textContent = `${formatNumber(netProfitValue.toFixed(0))} ₽`;
            
            totalCost.textContent = `${formatNumber(totalCosts.toFixed(0))} ₽`;
            roiRatio.textContent = roiRatioValue.toFixed(2);
            monthlyRoi.textContent = `${monthlyRoiValue.toFixed(2)}%`;
            
            // Описание ROI
            if (roiValue > 50) {
                roiDescription.textContent = "Отличная окупаемость инвестиций";
                roiDescription.className = "text-center text-success font-medium text-lg";
            } else if (roiValue > 20) {
                roiDescription.textContent = "Хорошая окупаемость инвестиций";
                roiDescription.className = "text-center text-success font-medium text-lg";
            } else if (roiValue > 0) {
                roiDescription.textContent = "Положительный возврат на инвестиции";
                roiDescription.className = "text-center text-green-600 font-medium text-lg";
            } else if (roiValue === 0) {
                roiDescription.textContent = "Инвестиция окупилась без прибыли";
                roiDescription.className = "text-center text-warning font-medium text-lg";
            } else {
                roiDescription.textContent = "Отрицательный возврат на инвестиции";
                roiDescription.className = "text-center text-danger font-medium text-lg";
            }
            
            // Детали расчета
            calculationDetails.textContent = `ROI = ((${formatNumber(returnAmount)} ₽ - ${formatNumber(totalCosts)} ₽) / ${formatNumber(totalCosts)} ₽) × 100% = ${roiValue.toFixed(1)}%`;
            
            // Обновление визуализации
            updateChart(investment, returnAmount);
        }
        
        // Обновление графиков
        function updateChart(investment, returnAmount) {
            const maxValue = Math.max(investment, returnAmount, 1); // Минимум 1, чтобы избежать деления на 0
            const investmentHeight = (investment / maxValue) * 120; // 120px - максимальная высота
            const returnHeight = (returnAmount / maxValue) * 120;
            
            investmentBar.style.height = `${investmentHeight}px`;
            returnBar.style.height = `${returnHeight}px`;
            
            // Подписи на графиках
            investmentBarValue.textContent = `${formatNumber(investment)} ₽`;
            returnBarValue.textContent = `${formatNumber(returnAmount)} ₽`;
        }
        
        // Сброс значений
        function resetForm() {
            investmentInput.value = 100000;
            returnInput.value = 150000;
            costsInput.value = 20000;
            periodInput.value = 12;
            
            updateSliders();
            calculateROI();
        }
        
        // Назначение обработчиков событий
        investmentInput.addEventListener('input', function() {
            investmentSlider.value = this.value;
            updateSliderValues();
            calculateROI();
        });
        
        investmentSlider.addEventListener('input', function() {
            investmentInput.value = this.value;
            updateSliderValues();
            calculateROI();
        });
        
        returnInput.addEventListener('input', function() {
            returnSlider.value = this.value;
            updateSliderValues();
            calculateROI();
        });
        
        returnSlider.addEventListener('input', function() {
            returnInput.value = this.value;
            updateSliderValues();
            calculateROI();
        });
        
        costsInput.addEventListener('input', function() {
            costsSlider.value = this.value;
            updateSliderValues();
            calculateROI();
        });
        
        costsSlider.addEventListener('input', function() {
            costsInput.value = this.value;
            updateSliderValues();
            calculateROI();
        });
        
        periodInput.addEventListener('input', function() {
            periodSlider.value = this.value;
            updateSliderValues();
            calculateROI();
        });
        
        periodSlider.addEventListener('input', function() {
            periodInput.value = this.value;
            updateSliderValues();
            calculateROI();
        });
        
        calculateBtn.addEventListener('click', calculateROI);
        resetBtn.addEventListener('click', resetForm);
        
        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            updateSliders();
            calculateROI();
        });
    </script>
