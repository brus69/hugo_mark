---
title: "Как установить барьеры для ставок в PPC-маркетинге | На пути к науке о данных"
date: "2025-11-19T23:13:09+0000"
draft: true
description: ""
h1: "Как установить ограничения ставок в PPC-маркетинге"
urldel: "https://towardsdatascience.com/how-to-set-bid-guardrails-in-ppc-marketing-216b1a7e4605/"
---

### Алгоритмы торгов определяют, сколько предложить за конкретное рекламное место

В быстроменяющемся мире цифровой рекламы, где сотни игроков конкурируют за рекламное место, а рефери (например, рекламные платформы, такие как Google, VK, Amazon и т. д.) постоянно меняют правила, динамические алгоритмы имеют важное значение. Хотя они и мощные, но по своей сути сложные.

Основная проблема торгов заключается в динамичном характере аукционов. Цены могут быстро меняться в зависимости от таких факторов, как поведение пользователей, время суток и рыночный спрос. Без надлежащего контроля алгоритм торгов может либо предложить слишком высокую цену, тратя ценные средства на рекламу; либо предложить слишком низкую цену, упустив важные возможности. Такая нестабильность может привести либо к стремительному росту затрат при небольшом возврате, либо к упущенным показам, которые могли бы принести значительную выгоду.

> **Чтобы избежать этих крайностей, крайне важно установить ограничения, которые обеспечат работу алгоритма в разумных пределах.**

В этом блоге я поделюсь с вами несколькими идеями о том, как реализовать ограничения торгов.

_P. S. 1: Примеры, которые вы увидите в этом посте, взяты из сотен маркетинговых кампаний с оплатой за рекламу, которыми я управлял в Skyscanner. Я удалил все идентификаторы, чтобы защитить конфиденциальную информацию, но вы сможете увидеть, как идеи, обсуждаемые в статье, были применены к реальным данным._

_P. S. 2: Все изображения созданы мной, если не указано иное._

## Чем больше кликов, тем лучше… правда?

Какова цель алгоритма торгов? Ну, это зависит. В Google Ads у вас есть множество возможных целей для оптимизации. Для простоты давайте представим, что мы в компании, которая стремится к росту. Цель — через платный маркетинг увеличить наш трафик и, следовательно, нашу базу пользователей. Цель ясна: чем больше кликов, тем лучше.

Ниже вы можете увидеть пример распределения кликов на возможность для данной кампании, которой мы управляли в Skyscanner.

Чем выше ставка, тем выше потенциальная возможность.

Хотя распределение немного неровное, оно имеет положительную тенденцию, то есть чем выше ставка, тем выше потенциальная возможность. Например, при ставках более 60 пенсов мы, вероятно, получим вдвое больше трафика по сравнению со ставками в 40 пенсов.

Что ж, дело закрыто: установите нижний порог на уровне 60 пенсов и позвольте алгоритму работать в диапазонах выше этого минимального порога…

### Ограничение 1: ROAS

### Что такое ROAS?

Но, конечно, всё не может быть так просто. Одна из мантр команд платного маркетинга заключается в том, что **«каждый евро на счету»**. Компания поставит перед вами цель по росту кликов или конверсий, но всегда в пределах лимитов расходов. Эти лимиты расходов обычно определяются метрикой ROAS.

ROAS означает возврат от расходов на рекламу. Это соотношение между общим доходом, разделённым на общие расходы на ваши платные кампании. Например, если я заработал 5 тысяч евро непосредственно от своих кампаний, но потратил 2,5 тысячи евро, то мой ROAS будет равен 2.

Вы, наверное, слышали термин ROI (возврат инвестиций). Разница между ROAS и ROI заключается в том, что ROAS учитывает только доход, полученный от конкретной рекламной кампании. ROAS — это краткосрочный показатель — это лучшая метрика для определения того, эффективно ли ваша реклама приносит доход. ROI измеряет отдачу от более крупных маркетинговых и рекламных усилий, другими словами, измеряет стоимость ведения бизнеса. Например, он включает в себя стоимость оплаты работы вашей маркетинговой команды или найма агентства. Работа с ROI немного сложнее, поэтому давайте сосредоточимся на ROAS.

### Определение ограничений

Вернёмся к нашим данным. В то время, когда мы управляли примером кампании, описанной выше, Skyscanner расширял своё присутствие на определённых рынках. Нам были заданы следующие диапазоны ROAS:

* ROAS < 0,75 = плохой ROAS;
* ROAS между 0,75 и 0,85 = пограничный ROAS;
* ROAS > 0,85 = хороший ROAS.

Вы можете видеть, что наши цели по ROAS допускали денежные потери. Некоторые причины заключались в том, что у нас был долгосрочный взгляд на ROI или что режим роста требует первоначальных инвестиций. С этими целями нам было сказано, что мы должны быть в зоне «пограничного ROAS». Если мы попадали в зону «хорошего ROAS», это было нормально, но тогда мы реинвестировали бы в перевыполнение плана.

На графике ниже показано ROAS для каждой отдельной ставки.

Чтобы соответствовать нашим ограничениям ROAS, мы хотели бы избежать:

* Ставок **ниже 42 пенсов**, так как мы всегда будем показывать хорошие результаты.
* Ставок **выше 70 пенсов**, так как мы никогда не войдём в зону хорошего ROAS, что является хорошей практикой для выхода из дней с плохим ROAS.

### Ограничение 2: частота протестированных ставок

Вам не кажется, что чего-то не хватает? Я не говорил о том, насколько мы уверены в отображаемых точках данных. Уверены ли мы, что получим в 1,5 раза больше объёма, используя 60 пенсов вместо 40? Уверены ли мы, что большой всплеск ROAS в 1,54 при ставке в 64 пенса — это не просто ситуация, когда «нам повезло»?

Здесь в игру вступает второе ограничение. Чтобы получить представление о надёжности, я предлагаю посмотреть, сколько раз была протестирована ставка. Чем больше дней (или показов), что ставка была подвергнута тестированию, тем больше вы уверены в объёме, который она приносит (клики на возможность), и качестве трафика (ROAS).

На графике ниже показано, сколько дней тестировалась ставка в нашей кампании.

### Определение ограничений

Это зависит от уровня исследования по сравнению с эксплуатацией, который вы хотите. В идеале вы должны установить ограничения, которые позволят для некоторого маневра в областях с высокой степенью достоверности. Таким образом, если рыночные условия изменятся, у вашего алгоритма будет некоторое пространство для изучения. Если в ходе исследования вы собрали достаточно данных, чтобы знать, что эта область действительно имеет низкий ROAS, то вы можете соответствующим образом скорректировать свои ограничения.

Идея определения этого пространства для исследований заключается в том, чтобы рассчитать 90-й и 50-й процентиль количества протестированных дней. Например, из распределения выше наш p90 равен 11 дням, а наш p50 (или медиана) равен 4 дням.

### Ограничение 3: эластичность ставок по отношению к кликам

Если концепция эластичности нова для вас, я бы порекомендовал прочитать мою статью «Как рассчитать эластичность ставок в PPC-маркетинге». Эластичность ставок пытается рассчитать, насколько процентное увеличение кликов мы получим при увеличении ставки на 1%. Идея состоит в том, чтобы понять, в каких диапазонах ставок мы никогда не должны упускать, потому что увеличение ставки на 1% даёт гораздо больший процентный прирост кликов.

В упомянутой статье я рассмотрел один метод расчёта эластичности, используя кумулятивную сумму кликов. Это не самый распространённый математический подход к расчёту эластичности (например, в моей статье я упоминаю простой линейный подбор, но можно использовать логарифмическую регрессию или ограниченную модель машинного обучения). Учитывая, что я не написал статью об этих других способах расчёта эластичности, мы будем придерживаться метода кумулятивной метрики.

### Определение ограничений

С учётом этой информации мы установим нижнее ограничение на уровне 39 пенсов. Даже несмотря на то, что объёмы в этом диапазоне ставок невелики, наше ожидаемое процентное увеличение значительно, и поэтому мы не хотим опускаться ниже этого порога.

## Объединение трёх измерений в одном графике

Я покажу серию графиков, где я итеративно покажу все детали, которые мы обсудили, в одном графике. Таким образом, мы сможем определить лучшие ограничения, учитывая три измерения вместе.

Мы начали со стремления получить больше кликов. Поэтому нацеливались на более высокие диапазоны ставок. Теперь добавим категории ROAS на основе цветового кодирования. Рассмотрим, насколько ставка была активна, на основе размеров категорий. Добавим наши упомянутые ограничения и решим, где действовать.

Из последнего графика мы решаем, что наши ограничения должны быть установлены между 42 пенсами и 67 пенсами.

## Что, если бы мы применили ограничения в наших ежедневных скорректированных ставках?

Всё, что вы видели, основано на данных из реальной кампании. Как ни странно, я выбрал этот пример, потому что это была кампания, в которой у нас _**НЕ БЫЛО**_ установленных ограничений. Таким образом, вы можете увидеть эффект нашего алгоритма торгов без ограничений и смоделировать то, что произошло бы, если бы мы реализовали эти ограничения.

График ниже состоит из двух диаграмм:

1. Верхняя диаграмма представляет наши ежедневные ставки.
* В светло-синем цвете вы можете увидеть наши _реальные_ ставки. Они колеблются, автоматически подстраиваясь для достижения нашей цели ROAS.
* В тёмно-синем цвете вы можете увидеть, какими были бы ставки, если бы они были ограничены нашими ограничениями.
* Тёмно-синие точки показывают конкретные даты, когда мы достигли бы этих ограничений.

2. Нижняя диаграмма показывает 7-дневный скользящий ROAS за каждый из этих дней.
* Зелёная и красная линии представляют цели ROAS, которых мы хотели достичь.
* Чёрные точки представляют те дни, когда ставки достигли ограничений.

### Автоматизация назначения ограничений

До сих пор мы проводили очень ручной анализ. Если вы имеете дело с сотнями кампаний, это довольно обременительно делать на регулярной основе. В Skyscanner мы всегда работаем с учётом масштабируемости. Поэтому нам нужна автоматизация. Вот несколько идей о том, как программно установить ваши ограничения на масштабе.

### Первые ограничения, которые вы устанавливаете

Длительное упражнение, через которое мы прошли, можно использовать для установки ограничений. На самом деле, моя рекомендация — провести весь этот ручной анализ для ваших наиболее эффективных кампаний (на основе объёма и затрат).

Для более длинных кампаний, кто мог бы упростить операцию и пойти на два ограничения, основанные на ROAS. Например:

1. Извлеките ставки, которые попали в зону «хорошего ROAS» (на графике ниже мы отфильтровали точки данных, где ROAS был пограничным или плохим).
2. Рассчитайте 25-й и 75-й процентиль для ставок. Другими словами, вытащите ставки, которые представляли бы 25-й и 75-й процентили.

Интересно видеть, что наша простая выборка не так уж далека от более глубокого анализа. Для сравнения, глубокий анализ установил ограничения ставок (0,42, 0,67), тогда как эта простая говорит (0,42, 0,58).

### Обновление ваших ограничений ставок

После того как ограничения установлены, вы не должны оставлять их без внимания. Многие факторы на рынке могут измениться. Например, ниже вы можете увидеть расширенный вид временного ряда. Между январём и июнем мы почти удвоили наши ставки, чтобы адаптироваться к рыночным условиям. Если у нас нет механизма для корректировки наших ограничений, мы можем оказаться в августе, когда _**все**_ наши ставки достигают верхнего ограничения.

**Есть 4 сценария, которые следует учитывать для верхних ограничений**

Сосредоточившись на верхнем ограничении, могут произойти четыре вещи:

1. _Мы достигаем верхних ограничений, и наш ROAS постоянно плохой._ Мы должны уменьшить наше верхнее ограничение.
2. _Мы достигаем верхних ограничений, и наш ROAS постоянно хороший._ Мы должны увеличить наше верхнее ограничение.
3. _Мы достигаем верхних ограничений, и наш ROAS колеблется между хорошим и пограничным._ Это то, где мы хотим быть. Не трогайте верхнее ограничение.
4. _Мы **не достигаем** верхних ограничений, но наш ROAS постоянно плохой._ Верхнее ограничение слишком высокое, и мы должны его снизить.

**Как мы могли бы определить «ROAS постоянно хороший или плохой»?**

Я предлагаю начать с чего-то очень простого:

* скользящий подсчёт дней, когда мы достигаем определённой зоны ROAS;
* скользящий подсчёт дней, когда мы достигаем наших ограничений.

### Резюме

В заключение, установление ограничений ставок в PPC-маркетинге необходимо для сохранения контроля над вашими кампаниями и обеспечения эффективности расходов на рекламу. Тщательно анализируя ROAS, частоту протестированных ставок и эластичность ставок, вы можете установить границы, которые защитят от нестабильности алгоритмов торгов. Этот процесс может быть ручным и трудоёмким, но я показал вам несколько идей для автоматизации корректировки ограничений на основе данных в реальном времени. Помните, что каждый евро на счету, и с правильными ограничениями вы можете максимизировать свою прибыль, минимизируя риски.

### Дальнейшее чтение

Спасибо за чтение статьи! Если вас интересует больше моих письменных материалов, вот статья, в которой собраны все мои другие блоги, организованные по темам: команда по науке о данных и управлению проектами, рассказы о данных, маркетинг и наука о торгах, машинное обучение и моделирование.

> **Все мои письменные статьи в одном месте**

### Следите за обновлениями!

Если вы хотите получать уведомления, когда я выпускаю новый письменный контент, подписывайтесь на меня в Medium или подпишитесь на мою рассылку в Substack. Кроме того, я был бы очень рад пообщаться в VK!

> **Получайте уведомления о моём последнем письменном контенте о науке о данных!**
>
> **Подкаст Jose’s Substack | Jose Parreño Garcia | Substack**

